{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/cryptocurrencyStyles.min.css') }}">
{% endblock %}

{% block main_container %}
<div class="main-container" id="main">
    <div>
        <div class="general-info">
            <div class="head-line">
                <div class="main-info-wrapper">
                    <img class="item-logo" id="crypto-logo" src="/static/svg/cryptocurrency/ETH.svg" alt="">
                    <div class="main-info">
                        <h2 class="item-name" id="main-name">Ethereum(ETH)</h2>
                        <span class="item-price" id="price-head">69782.873$</span>
                    </div>
                </div>
                <button class="trade-button" id="wtb-btn">Trade</button>
            </div>
            <div class="description" id="crypto-desc"></div>
        </div>
    </div>
    <div class="chart-content">
        <div class="chart-block">
            <div class="crypto-summary">
                <div>
                    <span class="crypto-summary-name" id="chart-low-text">Low 24h: </span>
                    <span class="crypto-summary-info" id="chart-low-info">43271.721</span>
                </div>
                <div>
                    <span class="crypto-summary-name" id="chart-high-text">High 24h: </span>
                    <span class="crypto-summary-info" id="chart-high-info">73238.001</span>
                </div>
                <div>
                    <span class="crypto-summary-name">Volume 24h: </span>
                    <span class="crypto-summary-info" id="chart-vol">17.31B</span>
                </div>
                <div>
                    <span class="crypto-summary-name" id="chart-change-text">Change 24h: </span>
                    <span class="change-pos" id="chart-change-info">+4.287%</span>
                </div>
            </div>
            <div class="chart-wrap">
                <canvas class="chart" id="chart" aria-label="chart" role="img"></canvas>
            </div>
        </div>
        <div class="time-interval-button-wrapper">
            <button class="time-interval-button active" id="chart-btn-day">daily</button>
            <button class="time-interval-button" id="chart-btn-month">monthly</button>
            <button class="time-interval-button" id="chart-btn-year">yearly</button>
        </div>
    </div>
</div>
<div class="trade-window" id="wtb-window">
    <div class="cancel-container">
        <button class="cancel-button" id="cancel-wtb">cancel</button>
    </div>
    <div class="trade-mode-container">
        <div class="trade-mode" id="trade-mode-wrapper">
            <button class="switch-mode-button" id="buy-mode"></button>
            <button class="switch-mode-button" id="sell-mode"></button>
            <div class="switch-mode-light" id="trade-mode"></div>
        </div>
    </div>
    <div class="sell-block trade-block" id="sell-window">
        <div class="trade-error-info">
            <span id="sell-error-message"></span>
        </div>
        <div class="buy-fields">
            <input
                class="trade-input"
                id="crypto-amount-sell"
                type="number"
                placeholder="amount of crypto"
                autocomplete="off"
                autofocus
                required
            >
            <input
                class="trade-input autofill"
                id="crypto-income-sell"
                type="text"
                placeholder="income"
                autocomplete="off"
                readonly
            >
            <input class="trade-input trade-submit" id="sell-purchase" type="button" value="purchase">
        </div>
        <div class="trade-info-container">
            <div class="trade-info">
                <div>
                    <span>Current price: </span>
                    <span class="trade-info-field" id="crypto-trade-price-sell"></span>
                </div>
                <div>
                    <span>Cryptocurrency balance: </span>
                    <span class="trade-info-field" id="crypto-balance"></span>
                </div>
            </div>
            <button class="update-button" id="update-sell-info-button">
                <img class="update-logo" src="{{ url_for('static', filename='svg/Reload.svg') }}" alt="refresh">
            </button>
        </div>
    </div>
    <div class="buy-block trade-block" id="buy-window">
        <div class="trade-error-info">
            <span id="buy-error-message"></span>
        </div>
        <div class="buy-fields">
            <input
                class="trade-input"
                id="crypto-amount-buy"
                type="number"
                placeholder="amount of crypto"
                autocomplete="off"
                autofocus
                required
            >
            <input
                class="trade-input autofill"
                id="crypto-price-buy"
                type="text"
                value=""
                placeholder="price"
                autocomplete="off"
                readonly
            >
            <input class="trade-input trade-submit" id="buy-purchase" type="button" value="purchase">
        </div>
        <div class="trade-info-container">
            <div class="trade-info">
                <div>
                    <span>Current price: </span>
                    <span class="trade-info-field" id="crypto-trade-price-buy"></span>
                </div>
                <div>
                    <span>USD balance: </span>
                    <span class="trade-info-field" id="usd-balance"></span>
                </div>
            </div>
            <button class="update-button" id="update-buy-info-button">
                <img class="update-logo" src="{{ url_for('static', filename='svg/Reload.svg') }}" alt="refresh">
            </button>
        </div>
    </div>
</div>
<div style="display: none;" class="success-window" id="success-window">
    <div class="success-info-wrap">
        <div class="grat-block">
            <p class="transaction-info" id="transaction-info">You bought 12.32 BTC for 337822.81$</p>
            <img class="grat-logo" src="{{ url_for('static', filename='svg/Success.svg') }}" alt="">
        </div>
        
        <span class="success-balance" id="crypto-success-balance">BTC balance: 62.92</span>
        <span class="success-balance" id="usd-success-balance">USD balance: 32119.44</span>
    </div>
    <div class="cancel-success-wrap">
        <button class="cancel-success-btn" id="close-success">cancel</button>
    </div>
</div>
{% endblock %}

{% block script %}
<script src="{{ url_for('static', filename='js/cryptocurrency.min.js') }}"></script>
{% endblock %}
